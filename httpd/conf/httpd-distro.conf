###########################################################################
# 
# Aturan Praktis
# 
# httpd selalu gunakan versi terbaru (v2).
# PHP selalu gunakan terakhir dari tiap major (v5,v7,v8).
# 
###########################################################################

Listen 5001
Listen 5002
Listen 5003
Listen 7001
Listen 7002
Listen 7003
Listen 8001

LoadModule fcgid_module modules/mod_fcgid.so

FcgidInitialEnv PHP_FCGI_CHILDREN 0
FcgidInitialEnv PHP_FCGI_MAX_REQUESTS 0
FcgidInitialEnv PHPIniDir "${_ROOT}"
FcgidInitialEnv PHP_INI_SCAN_DIR "${_ROOT}"
FcgidInitialEnv TMP "${_ROOT}/tmp"
FcgidInitialEnv TEMP "${_ROOT}/tmp"

# 256MB = 268435456
# 512MB = 536870912
# 1GB   = 1073741824
# 5GB   = 5368709120
FcgidMaxRequestLen 5368709120
FcgidIOTimeout 3600
FcgidConnectTimeout 3600

AddHandler fcgid-script .php
<FilesMatch "\.php$">
	SetHandler fcgid-script
</FilesMatch>

<VirtualHost *:5001>
	ErrorLog "logs/5001.log"
	CustomLog "logs/5001-custom.log" common

	UnsetEnv PHPRC
	FcgidInitialEnv PHPRC "${PHP5_ROOT}"
	FcgidWrapper "${PHP5_ROOT}/php-cgi.exe" .php

	DocumentRoot "D:/xampp0a/htdocs"
	<Directory "D:/xampp0a/htdocs">
		Options All
		AllowOverride All
		Require all granted
	</Directory>
</VirtualHost>

<VirtualHost *:5002>
	ErrorLog "logs/5002.log"
	CustomLog "logs/5002-custom.log" common

	UnsetEnv PHPRC
	FcgidInitialEnv PHPRC "${PHP5_ROOT}"
	FcgidWrapper "${PHP5_ROOT}/php-cgi.exe" .php

	DocumentRoot "D:/xampp/htdocs"
	<Directory "D:/xampp/htdocs">
		Options All
		AllowOverride All
		Require all granted
	</Directory>
</VirtualHost>

<VirtualHost *:5003>
	ErrorLog "logs/5003.log"
	CustomLog "logs/5003-custom.log" common

	UnsetEnv PHPRC
	FcgidInitialEnv PHPRC "${PHP5_ROOT}"
	FcgidWrapper "${PHP5_ROOT}/php-cgi.exe" .php

	DocumentRoot "D:/PHPProjects"
	<Directory "D:/PHPProjects">
		Options All
		AllowOverride All
		Require all granted
	</Directory>
</VirtualHost>

<VirtualHost *:7001>
	ErrorLog "logs/7001.log"
	CustomLog "logs/7001-custom.log" common

	UnsetEnv PHPRC
	FcgidInitialEnv PHPRC "${PHP7_ROOT}"
	FcgidWrapper "${PHP7_ROOT}/php-cgi.exe" .php

	DocumentRoot "D:/xampp/htdocs"
	<Directory "D:/xampp/htdocs">
		Options All
		AllowOverride All
		Require all granted
	</Directory>

	Alias "/eplanning_atrbpn_2022" "D:/xampp/htdocs/eplanning-atrbpn-git/new_eplanning_atr_bpn_2/public"
	Alias "/eplanning_atrbpn_2023" "D:/xampp/htdocs/eplanning-atrbpn-git/new_eplanning_atr_bpn_2/public"
	Alias "/eplanning_atrbpn_2024" "D:/xampp/htdocs/eplanning-atrbpn-git/new_eplanning_atr_bpn_2/public"
	<Directory "D:/xampp/htdocs/eplanning-atrbpn-git/new_eplanning_atr_bpn_2/public">
		Options All
		AllowOverride All
		Require all granted
	</Directory>
</VirtualHost>

<VirtualHost *:7002>
	ErrorLog "logs/7002.log"
	CustomLog "logs/7002-custom.log" common

	UnsetEnv PHPRC
	FcgidInitialEnv PHPRC "${PHP7_ROOT}"
	FcgidWrapper "${PHP7_ROOT}/php-cgi.exe" .php

	DocumentRoot "D:/PHPProjects"
	<Directory "D:/PHPProjects">
		Options All
		AllowOverride All
		Require all granted
	</Directory>
</VirtualHost>

<VirtualHost *:7003>
	ErrorLog "logs/7003.log"
	CustomLog "logs/7003-custom.log" common

	UnsetEnv PHPRC
	FcgidInitialEnv PHPRC "${PHP7_ROOT}"
	FcgidWrapper "${PHP7_ROOT}/php-cgi.exe" .php

	DocumentRoot "D:/Projects"
	<Directory "D:/Projects">
		Options All
		AllowOverride All
		Require all granted
	</Directory>
</VirtualHost>

<VirtualHost *:8001>
	ErrorLog "logs/8001.log"
	CustomLog "logs/8001-custom.log" common

	UnsetEnv PHPRC
	FcgidInitialEnv PHPRC "${PHP8_ROOT}"
	FcgidWrapper "${PHP8_ROOT}/php-cgi.exe" .php

	DocumentRoot "D:/PHPProjects"
	<Directory "D:/PHPProjects">
		Options All
		AllowOverride All
		Require all granted
	</Directory>
</VirtualHost>
